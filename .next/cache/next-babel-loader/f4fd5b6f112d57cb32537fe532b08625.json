{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport NavBar from './NavBar';\nimport MetaHead from './Head';\nimport Footer from \"./Footer\";\nimport Link from 'next/link';\nimport \"../style.css\";\nimport React, { useEffect, useState } from 'react';\n\nfunction Index(_ref) {\n  _s();\n\n  var rows = _ref.rows;\n  var rowsMap = rows.map(function (row) {\n    return __jsx(\"div\", {\n      key: row.id\n    }, __jsx(\"img\", {\n      src: 'static/' + row.agents_photo,\n      alt: \"agen1\",\n      \"with\": \"200\",\n      height: \"200\"\n    }), __jsx(\"h4\", null, row.name), __jsx(\"p\", null, row.position), __jsx(\"p\", null, __jsx(\"a\", {\n      href: \"#\"\n    }, row.phone)), __jsx(\"p\", null, row.email));\n  });\n\n  var _useState = useState(false),\n      isClicked = _useState[0],\n      setIsClicked = _useState[1];\n\n  var _useState2 = useState(false),\n      moreAgent = _useState2[0],\n      setMoreAgent = _useState2[1];\n\n  function clickHandler() {\n    setIsClicked(true);\n  }\n\n  useEffect(function () {\n    document.getElementById();\n    var x = 6;\n    fetch('/moreagents?id = ' + x).then(function (res) {\n      return res.text();\n    }).then(function (text) {\n      if (isClicked) {\n        setMoreAgent(text); // console.log(isClicked)\n\n        setIsClicked(false); // console.log(isClicked)\n      } else {\n        return false;\n      }\n    })[\"catch\"](function (err) {\n      console.error(\"Error: \", err);\n    });\n  }, [isClicked]);\n  return __jsx(React.Fragment, null, __jsx(MetaHead, null), __jsx(\"div\", {\n    className: \"App\"\n  }, __jsx(\"header\", {\n    className: \"elseHeader\"\n  }, __jsx(\"div\", null, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, __jsx(\"img\", {\n    src: \"../static/estate-logo.svg\",\n    width: \"300\",\n    height: \"100\",\n    alt: \"Ultimo Real Estate, Sydney, Australia\"\n  })))), __jsx(NavBar, null)), __jsx(\"main\", null, __jsx(\"div\", {\n    className: \"titleOfPage\"\n  }, __jsx(\"h1\", null, \"Ultimo Agents\")), __jsx(\"div\", {\n    className: \"grid-container\"\n  }, rowsMap), __jsx(\"div\", {\n    id: \"agentMember\"\n  }, moreAgent), __jsx(\"button\", {\n    type: \"button\",\n    id: \"agentBtn\",\n    onClick: clickHandler\n  }, \"More Agents\")), __jsx(Footer, null)));\n}\n\n_s(Index, \"1oKsMjPkFlojyDFY2JRjEhYxR9o=\");\n\n_c = Index;\nexport var __N_SSP = true;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/shoko/src/URE3-React/ure-nextjs/pages/agents.js"],"names":["NavBar","MetaHead","Footer","Link","React","useEffect","useState","Index","rows","rowsMap","map","row","id","agents_photo","name","position","phone","email","isClicked","setIsClicked","moreAgent","setMoreAgent","clickHandler","document","getElementById","x","fetch","then","res","text","err","console","error"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,QAAP,MAAqB,QAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAGA,OAAO,cAAP;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAkBA,SAASC,KAAT,OAAyB;AAAA;;AAAA,MAARC,IAAQ,QAARA,IAAQ;AAEvB,MAAIC,OAAO,GAAGD,IAAI,CAACE,GAAL,CAAS,UAAAC,GAAG;AAAA,WACxB;AAAK,MAAA,GAAG,EAAIA,GAAG,CAACC;AAAhB,OACE;AAAK,MAAA,GAAG,EAAE,YAAWD,GAAG,CAACE,YAAzB;AAAuC,MAAA,GAAG,EAAC,OAA3C;AAAmD,cAAK,KAAxD;AAA8D,MAAA,MAAM,EAAC;AAArE,MADF,EAEE,kBAAKF,GAAG,CAACG,IAAT,CAFF,EAGE,iBAAIH,GAAG,CAACI,QAAR,CAHF,EAIE,iBAAG;AAAG,MAAA,IAAI,EAAC;AAAR,OAAaJ,GAAG,CAACK,KAAjB,CAAH,CAJF,EAKE,iBAAIL,GAAG,CAACM,KAAR,CALF,CADwB;AAAA,GAAZ,CAAd;;AAFuB,kBAYWX,QAAQ,CAAC,KAAD,CAZnB;AAAA,MAYhBY,SAZgB;AAAA,MAYLC,YAZK;;AAAA,mBAaWb,QAAQ,CAAC,KAAD,CAbnB;AAAA,MAahBc,SAbgB;AAAA,MAaLC,YAbK;;AAevB,WAASC,YAAT,GAAuB;AACrBH,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;;AAEDd,EAAAA,SAAS,CAAC,YAAM;AACdkB,IAAAA,QAAQ,CAACC,cAAT;AACA,QAAIC,CAAC,GAAG,CAAR;AACAC,IAAAA,KAAK,CAAC,sBAAsBD,CAAvB,CAAL,CACCE,IADD,CACM,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KADT,EAECF,IAFD,CAEM,UAAAE,IAAI,EAAI;AACZ,UAAGX,SAAH,EAAa;AACXG,QAAAA,YAAY,CAACQ,IAAD,CAAZ,CADW,CAEX;;AACAV,QAAAA,YAAY,CAAC,KAAD,CAAZ,CAHW,CAIX;AACD,OALD,MAKK;AACH,eAAO,KAAP;AACD;AACF,KAXD,WAYO,UAAAW,GAAG,EAAI;AAAEC,MAAAA,OAAO,CAACC,KAAR,CAAc,SAAd,EAAyBF,GAAzB;AAA8B,KAZ9C;AAaD,GAhBQ,EAgBP,CAACZ,SAAD,CAhBO,CAAT;AAkBA,SACA,4BACE,MAAC,QAAD,OADF,EAEE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAQ,IAAA,SAAS,EAAC;AAAlB,KACE,mBACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACE,iBACE;AAAK,IAAA,GAAG,EAAC,2BAAT;AAAqC,IAAA,KAAK,EAAC,KAA3C;AAAiD,IAAA,MAAM,EAAC,KAAxD;AACE,IAAA,GAAG,EAAC;AADN,IADF,CADF,CADF,CADF,EASE,MAAC,MAAD,OATF,CADF,EAaE,oBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,kCADF,CADF,EAIE;AAAK,IAAA,SAAS,EAAG;AAAjB,KACGT,OADH,CAJF,EAOE;AAAK,IAAA,EAAE,EAAG;AAAV,KACGW,SADH,CAPF,EAUE;AACE,IAAA,IAAI,EAAG,QADT;AAEE,IAAA,EAAE,EAAG,UAFP;AAGE,IAAA,OAAO,EAAIE;AAHb,mBAVF,CAbF,EA6BE,MAAC,MAAD,OA7BF,CAFF,CADA;AAoCD;;GAzEQf,K;;KAAAA,K;;AA2ET,eAAeA,KAAf","sourcesContent":["import NavBar from './NavBar';\r\nimport MetaHead from './Head';\r\nimport Footer from \"./Footer\";\r\nimport Link from 'next/link';\r\nimport queryAsync from '../mysql';\r\n\r\nimport \"../style.css\"\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nexport async function getServerSideProps(){\r\n\r\n  let dbdata = await queryAsync(`\r\n    SELECT * FROM agents LIMIT 6 ;\r\n  `)\r\n\r\n  let rows = JSON.parse(JSON.stringify(dbdata));\r\n\r\n  return {\r\n    props: {\r\n      rows\r\n    },\r\n  }\r\n}\r\n\r\n\r\nfunction Index({ rows }) {\r\n\r\n  let rowsMap = rows.map(row =>\r\n    <div key = {row.id}>\r\n      <img src={'static/' +row.agents_photo} alt=\"agen1\" with=\"200\" height=\"200\" />\r\n      <h4>{row.name}</h4>\r\n      <p>{row.position}</p>\r\n      <p><a href=\"#\">{row.phone}</a></p>\r\n      <p>{row.email}</p>\r\n    </div>\r\n  );\r\n\r\n  const [isClicked, setIsClicked] = useState(false);\r\n  const [moreAgent, setMoreAgent] = useState(false);\r\n\r\n  function clickHandler(){\r\n    setIsClicked(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.getElementById()\r\n    let x = 6;\r\n    fetch('/moreagents?id = ' + x )\r\n    .then(res => res.text())\r\n    .then(text => {\r\n      if(isClicked){\r\n        setMoreAgent(text);\r\n        // console.log(isClicked)\r\n        setIsClicked(false);\r\n        // console.log(isClicked)\r\n      }else{\r\n        return false\r\n      }\r\n    })\r\n    .catch(err => { console.error(\"Error: \", err)}) \r\n  },[isClicked])\r\n\r\n  return(\r\n  <>\r\n    <MetaHead />\r\n    <div className=\"App\">\r\n      <header className='elseHeader'>\r\n        <div>\r\n          <Link href=\"/\">\r\n            <a>\r\n              <img src=\"../static/estate-logo.svg\" width=\"300\" height=\"100\"\r\n                alt=\"Ultimo Real Estate, Sydney, Australia\" />\r\n            </a>\r\n          </Link>\r\n        </div>\r\n        <NavBar />\r\n      </header>\r\n\r\n      <main>\r\n        <div className=\"titleOfPage\">\r\n          <h1>Ultimo Agents</h1>\r\n        </div>\r\n        <div className = \"grid-container\">\r\n          {rowsMap}\r\n        </div>\r\n        <div id = \"agentMember\">\r\n          {moreAgent}\r\n        </div>\r\n        <button \r\n          type = \"button\" \r\n          id = \"agentBtn\"\r\n          onClick = {clickHandler}\r\n        >More Agents</button>\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}