{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shoko\\\\src\\\\URE3-Next.js\\\\ure-nextjs\\\\pages\\\\properties.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport NavBar from './NavBar';\nimport MetaHead from './Head';\nimport Footer from \"./Footer\";\nimport Link from 'next/link';\nimport queryAsync from '../mysql';\nimport { useState, useEffect } from 'react';\nimport \"../style.css\";\nimport jwt from 'jsonwebtoken';\n\nasync function getProperties() {\n  let dbdata = await queryAsync(`\n  SELECT property.id, property.address, property.image_path, property.inspection, \n  property.bed, property.shower, property.car, agents.name, agents.agents_photo \n  FROM property \n  JOIN agents ON property.agent_id = agents.id;\n  `);\n  return JSON.parse(JSON.stringify(dbdata));\n}\n\nfunction checkCookies(context) {\n  let cookie = context.req.headers.cookie;\n  const regex = /logInCookie\\=([A-Za-z0-9\\.\\_\\-]+)/;\n  let token = cookie.match(regex)[1];\n  console.log(token);\n  let decoded;\n\n  try {\n    decoded = jwt.verify(token, 'ShokoDidIt');\n    console.log(decoded);\n    return decoded;\n  } catch {\n    return null;\n  }\n}\n\nexport async function getServerSideProps(context) {\n  let rows = await getProperties();\n  let cookie = checkCookies(context);\n  return {\n    props: {\n      rows,\n      cookie\n    }\n  };\n}\n;\n\nfunction Index({\n  rows,\n  cookie\n}) {\n  const {\n    0: addProperty,\n    1: setAddProperty\n  } = useState([]);\n  useEffect();\n\n  if (cookie.role === \"agent\") {\n    return setAddProperty(\"Hello\");\n  }\n\n  let rowsMap = rows.map(row => __jsx(\"div\", {\n    className: \"imgs\",\n    key: row.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), __jsx(\"p\", {\n    className: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"Ultimo Real Estate\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), __jsx(\"a\", {\n    target: \"_blank\",\n    href: \"./gallery?id=\" + row.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, __jsx(\"img\", {\n    src: \"static/\" + row.image_path,\n    alt: \"Home1\",\n    id: \"cardImg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), __jsx(\"h5\", {\n    className: \"obi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, row.name, __jsx(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, __jsx(\"img\", {\n    src: \"static/\" + row.agents_photo,\n    width: \"70px;\",\n    height: \"70px;\",\n    style: {\n      borderRadius: '50%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }))), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, row.address), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), __jsx(\"p\", {\n    className: \"icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, __jsx(\"img\", {\n    src: \"static/bed.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), row.bed, __jsx(\"img\", {\n    src: \"static/shower.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), row.shower, __jsx(\"img\", {\n    src: \"static/car.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), row.bed), __jsx(\"p\", {\n    className: \"inspe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, __jsx(\"img\", {\n    src: \"static/planner.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), \" Inspection : \", row.inspection))); // let addForm =\n  // <div className=\"addProperty\">\n  //   <h2 >Add more property</h2>\n  //     <form\n  //       action=\"/moreproperty\"\n  //       method=\"POST\"\n  //       id=\"moreProperty\"\n  //     >\n  //       <div className=\"marginTop\">\n  //         <label for=\"address\">Address of Property</label>\n  //         <br />\n  //         <input\n  //           id=\"address\"\n  //           type=\"text\"\n  //           name=\"address\"\n  //           placeholder=\"Property Address\"\n  //           size=\"36\"\n  //           required\n  //         />\n  //       </div>\n  //       <div className=\"marginTop\">\n  //         <label for=\"inspection\">Inspection Date</label>\n  //         <br />\n  //         <input\n  //           id=\"inspection\"\n  //           type=\"text\"\n  //           name=\"inspection\"\n  //           placeholder=\"Open xx/xx/ xx:xxam/pm\"\n  //           size=\"36\"\n  //           required\n  //         />\n  //       </div>\n  //       <div className=\"marginTop\">\n  //         <label for=\"image_path\">Tytle of the Image File</label>\n  //         <br />\n  //         <input\n  //           id=\"image_path\"\n  //           type=\"text\"\n  //           name=\"image_path\"\n  //           placeholder=\"example.jpg\"\n  //           size=\"36\"\n  //           required\n  //         />\n  //       </div>\n  //       <div className=\"marginTop\">\n  //         <label for=\"agentName\">Agent's name</label>\n  //         <input\n  //           id=\"agentName\"\n  //           type=\"text\"\n  //           name=\"agentName\"\n  //           placeholder=\"Full name\"\n  //           size=\"36\"\n  //           required\n  //         />\n  //       </div>\n  //       <div className=\"marginTop\">\n  //         <label >The number of Bed Rooms</label>\n  //         <div id=\"radio\">\n  //           1\n  //           <input type=\"radio\" name=\"bed\" value=\"1\" />\n  //           2\n  //           <input type=\"radio\" name=\"bed\" value=\"2\" />\n  //           3\n  //           <input type=\"radio\" name=\"bed\" value=\"3\" />\n  //           4\n  //           <input type=\"radio\" name=\"bed\" value=\"4\" />\n  //           5\n  //           <input type=\"radio\" name=\"bed\" value=\"5\" />\n  //         </div>\n  //       </div>\n  //       <div className=\"marginTop\">\n  //         <label >The number of Shower Rooms</label>\n  //         <div id=\"radio\">\n  //           1\n  //           <input type=\"radio\" name=\"shower\" value=\"1\" />\n  //           2\n  //           <input type=\"radio\" name=\"shower\" value=\"2\" />\n  //           3\n  //           <input type=\"radio\" name=\"shower\" value=\"3\" />\n  //           4\n  //           <input type=\"radio\" name=\"shower\" value=\"4\" />\n  //           5\n  //           <input type=\"radio\" name=\"shower\" value=\"5\" />\n  //         </div>\n  //       </div>\n  //       <div className=\"marginTop\">\n  //         <label >The number of Car Parking</label>\n  //         <div id=\"radio\">\n  //           1\n  //           <input type=\"radio\" name=\"car\" value=\"1\" />\n  //           2\n  //           <input type=\"radio\" name=\"car\" value=\"2\" />\n  //           3\n  //           <input type=\"radio\" name=\"car\" value=\"3\" />\n  //           4\n  //           <input type=\"radio\" name=\"car\" value=\"4\" />\n  //           5\n  //           <input type=\"radio\" name=\"car\" value=\"5\" />\n  //         </div>\n  //       </div>\n  //       <button type='submit' id=\"addPropertyBtn\">OK</button>\n  //     </form>\n  // </div>;\n\n  return __jsx(React.Fragment, null, __jsx(MetaHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    classNameName: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }\n  }, __jsx(\"header\", {\n    classNameName: \"elseHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: \"../static/estate-logo.svg\",\n    width: \"300\",\n    height: \"100\",\n    alt: \"Ultimo Real Estate, Sydney, Australia\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  })))), __jsx(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  })), __jsx(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"titleOfPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 11\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, \"Property of the Week\")), __jsx(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"grid-container-pro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, rowsMap), addProperty)), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }\n  })));\n}\n\n;\nexport default Index;","map":{"version":3,"sources":["C:/Users/shoko/src/URE3-Next.js/ure-nextjs/pages/properties.js"],"names":["NavBar","MetaHead","Footer","Link","queryAsync","useState","useEffect","jwt","getProperties","dbdata","JSON","parse","stringify","checkCookies","context","cookie","req","headers","regex","token","match","console","log","decoded","verify","getServerSideProps","rows","props","Index","addProperty","setAddProperty","role","rowsMap","map","row","id","image_path","name","agents_photo","borderRadius","address","bed","shower","inspection"],"mappings":"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;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAC+BN,GAAG,CAACO,GADnC,EAEE;AAAK,IAAA,GAAG,EAAC,mBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAEkCP,GAAG,CAACQ,MAFtC,EAGE;AAAK,IAAA,GAAG,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAG+BR,GAAG,CAACO,GAHnC,CAnBF,EAwBE;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAC,oBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,oBACiDP,GAAG,CAACS,UADrD,CAxBF,CAFY,CAAd,CAR+B,CAyC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,SACE,4BAEE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAK,IAAA,aAAa,EAAC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,aAAa,EAAC,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAC,2BAAT;AAAqC,IAAA,KAAK,EAAC,KAA3C;AAAiD,IAAA,MAAM,EAAC,KAAxD;AACE,IAAA,GAAG,EAAC,uCADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,CADF,EASE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CADF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,CADF,EAKE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGX,OADH,CADF,EAIGH,WAJH,CALF,CAbF,EAyBE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBF,CAHF,CADF;AAkCD;;AAAA;AAGD,eAAeD,KAAf","sourcesContent":["import NavBar from './NavBar';\r\nimport MetaHead from './Head';\r\nimport Footer from \"./Footer\";\r\nimport Link from 'next/link';\r\nimport queryAsync from '../mysql';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport \"../style.css\"\r\n\r\nimport jwt from 'jsonwebtoken';\r\n\r\n\r\nasync function getProperties() {\r\n  let dbdata = await queryAsync(`\r\n  SELECT property.id, property.address, property.image_path, property.inspection, \r\n  property.bed, property.shower, property.car, agents.name, agents.agents_photo \r\n  FROM property \r\n  JOIN agents ON property.agent_id = agents.id;\r\n  `);\r\n\r\n  return JSON.parse(JSON.stringify(dbdata));\r\n}\r\n\r\nfunction checkCookies(context) {\r\n  let cookie = context.req.headers.cookie;\r\n  const regex = /logInCookie\\=([A-Za-z0-9\\.\\_\\-]+)/;\r\n  let token = cookie.match(regex)[1];\r\n  console.log(token)\r\n  let decoded;\r\n  try {\r\n    decoded = jwt.verify(token, 'ShokoDidIt');\r\n    console.log(decoded);\r\n    return decoded;\r\n  } catch{\r\n    return null;\r\n  }\r\n}\r\n\r\nexport async function getServerSideProps(context) {\r\n\r\n  let rows = await getProperties();\r\n  let cookie = checkCookies(context);\r\n\r\n  return {\r\n    props: {\r\n      rows,\r\n      cookie\r\n    },\r\n  }\r\n};\r\n\r\n\r\nfunction Index({ rows, cookie }) {\r\n\r\n  const [addProperty, setAddProperty] = useState([]);\r\n  useEffect()\r\n  if (cookie.role === \"agent\") {\r\n    return setAddProperty(\"Hello\")\r\n  }\r\n\r\n  let rowsMap = rows.map(row =>\r\n\r\n    <div className=\"imgs\" key={row.id} >\r\n      <br />\r\n      <p className=\"right\">Ultimo Real Estate</p>\r\n      <br />\r\n      <a target=\"_blank\" href={\"./gallery?id=\" + row.id}>\r\n        <img src={\"static/\" + row.image_path} alt=\"Home1\"\r\n          id=\"cardImg\" />\r\n      </a>\r\n      <br />\r\n      <h5 className=\"obi\">\r\n        {row.name}\r\n        <a href=\"#\">\r\n          <img src={\"static/\" + row.agents_photo} width=\"70px;\"\r\n            height=\"70px;\" style={{ borderRadius: '50%' }} />\r\n        </a>\r\n      </h5>\r\n      <br />\r\n      <h4>{row.address}</h4>\r\n      <br />\r\n      <p className=\"icons\">\r\n        <img src=\"static/bed.png\" />{row.bed}\r\n        <img src=\"static/shower.png\" />{row.shower}\r\n        <img src=\"static/car.png\" />{row.bed}\r\n      </p>\r\n      <p className=\"inspe\">\r\n        <img src=\"static/planner.png\" /> Inspection : {row.inspection}\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  \r\n  // let addForm =\r\n  // <div className=\"addProperty\">\r\n  //   <h2 >Add more property</h2>\r\n  //     <form\r\n  //       action=\"/moreproperty\"\r\n  //       method=\"POST\"\r\n  //       id=\"moreProperty\"\r\n  //     >\r\n  //       <div className=\"marginTop\">\r\n  //         <label for=\"address\">Address of Property</label>\r\n  //         <br />\r\n  //         <input\r\n  //           id=\"address\"\r\n  //           type=\"text\"\r\n  //           name=\"address\"\r\n  //           placeholder=\"Property Address\"\r\n  //           size=\"36\"\r\n  //           required\r\n  //         />\r\n  //       </div>\r\n  //       <div className=\"marginTop\">\r\n  //         <label for=\"inspection\">Inspection Date</label>\r\n  //         <br />\r\n  //         <input\r\n  //           id=\"inspection\"\r\n  //           type=\"text\"\r\n  //           name=\"inspection\"\r\n  //           placeholder=\"Open xx/xx/ xx:xxam/pm\"\r\n  //           size=\"36\"\r\n  //           required\r\n  //         />\r\n  //       </div>\r\n  //       <div className=\"marginTop\">\r\n  //         <label for=\"image_path\">Tytle of the Image File</label>\r\n  //         <br />\r\n  //         <input\r\n  //           id=\"image_path\"\r\n  //           type=\"text\"\r\n  //           name=\"image_path\"\r\n  //           placeholder=\"example.jpg\"\r\n  //           size=\"36\"\r\n  //           required\r\n  //         />\r\n  //       </div>\r\n  //       <div className=\"marginTop\">\r\n  //         <label for=\"agentName\">Agent's name</label>\r\n  //         <input\r\n  //           id=\"agentName\"\r\n  //           type=\"text\"\r\n  //           name=\"agentName\"\r\n  //           placeholder=\"Full name\"\r\n  //           size=\"36\"\r\n  //           required\r\n  //         />\r\n  //       </div>\r\n  //       <div className=\"marginTop\">\r\n  //         <label >The number of Bed Rooms</label>\r\n  //         <div id=\"radio\">\r\n  //           1\r\n  //           <input type=\"radio\" name=\"bed\" value=\"1\" />\r\n  //           2\r\n  //           <input type=\"radio\" name=\"bed\" value=\"2\" />\r\n  //           3\r\n  //           <input type=\"radio\" name=\"bed\" value=\"3\" />\r\n  //           4\r\n  //           <input type=\"radio\" name=\"bed\" value=\"4\" />\r\n  //           5\r\n  //           <input type=\"radio\" name=\"bed\" value=\"5\" />\r\n  //         </div>\r\n  //       </div>\r\n  //       <div className=\"marginTop\">\r\n  //         <label >The number of Shower Rooms</label>\r\n  //         <div id=\"radio\">\r\n  //           1\r\n  //           <input type=\"radio\" name=\"shower\" value=\"1\" />\r\n  //           2\r\n  //           <input type=\"radio\" name=\"shower\" value=\"2\" />\r\n  //           3\r\n  //           <input type=\"radio\" name=\"shower\" value=\"3\" />\r\n  //           4\r\n  //           <input type=\"radio\" name=\"shower\" value=\"4\" />\r\n  //           5\r\n  //           <input type=\"radio\" name=\"shower\" value=\"5\" />\r\n  //         </div>\r\n  //       </div>\r\n  //       <div className=\"marginTop\">\r\n  //         <label >The number of Car Parking</label>\r\n  //         <div id=\"radio\">\r\n  //           1\r\n  //           <input type=\"radio\" name=\"car\" value=\"1\" />\r\n  //           2\r\n  //           <input type=\"radio\" name=\"car\" value=\"2\" />\r\n  //           3\r\n  //           <input type=\"radio\" name=\"car\" value=\"3\" />\r\n  //           4\r\n  //           <input type=\"radio\" name=\"car\" value=\"4\" />\r\n  //           5\r\n  //           <input type=\"radio\" name=\"car\" value=\"5\" />\r\n  //         </div>\r\n  //       </div>\r\n  //       <button type='submit' id=\"addPropertyBtn\">OK</button>\r\n  //     </form>\r\n  // </div>;\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n      <MetaHead />\r\n      <div classNameName=\"App\">\r\n        <header classNameName='elseHeader'>\r\n          <div>\r\n            <Link href=\"/\">\r\n              <a>\r\n                <img src=\"../static/estate-logo.svg\" width=\"300\" height=\"100\"\r\n                  alt=\"Ultimo Real Estate, Sydney, Australia\" />\r\n              </a>\r\n            </Link>\r\n          </div>\r\n          <NavBar />\r\n        </header>\r\n\r\n        <main>\r\n          <div className=\"titleOfPage\">\r\n            <h1>Property of the Week</h1>\r\n          </div>\r\n\r\n          <div className=\"flex\">\r\n            <div className=\"grid-container-pro\">\r\n              {rowsMap}\r\n            </div>\r\n            {addProperty}\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n\r\n    </>\r\n  )\r\n};\r\n\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}