{"ast":null,"code":"import queryAsync from \"../../mysql\";\nimport crypto from 'crypto';\nimport jwt from 'jsonwebtoken';\n\nasync function auth(req, res) {\n  if (req.method === 'POST') {\n    let data = JSON.parse(req.body);\n    let name = data[0].name;\n    let email = data[1].email;\n    let pass = data[2].password;\n    let hash = crypto.createHash('sha256').update(pass).digest(ase64);\n    console.log(hash);\n    let rows = await queryAsync(`\n      SELECT * FROM register WHERE email LIKE \"${email}\"`);\n    console.log(rows);\n    res.end();\n  } else {}\n}\n\nexport default auth;","map":{"version":3,"sources":["C:/Users/shoko/src/URE3-Next.js/ure-nextjs/pages/api/auth.js"],"names":["queryAsync","crypto","jwt","auth","req","res","method","data","JSON","parse","body","name","email","pass","password","hash","createHash","update","digest","ase64","console","log","rows","end"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,aAAvB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,GAAP,MAAgB,cAAhB;;AAEA,eAAeC,IAAf,CAAoBC,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,MAAGD,GAAG,CAACE,MAAJ,KAAe,MAAlB,EAA0B;AACxB,QAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,GAAG,CAACM,IAAf,CAAX;AACA,QAAIC,IAAI,GAAGJ,IAAI,CAAC,CAAD,CAAJ,CAAQI,IAAnB;AACA,QAAIC,KAAK,GAAGL,IAAI,CAAC,CAAD,CAAJ,CAAQK,KAApB;AACA,QAAIC,IAAI,GAAGN,IAAI,CAAC,CAAD,CAAJ,CAAQO,QAAnB;AACA,QAAIC,IAAI,GAAGd,MAAM,CAACe,UAAP,CAAkB,QAAlB,EAA4BC,MAA5B,CAAmCJ,IAAnC,EAAyCK,MAAzC,CAAgDC,KAAhD,CAAX;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AAEA,QAAIO,IAAI,GAAG,MAAMtB,UAAU,CAAE;iDACgBY,KAAM,GADxB,CAA3B;AAGAQ,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACAjB,IAAAA,GAAG,CAACkB,GAAJ;AACD,GAbD,MAaO,CAEN;AACF;;AAGD,eAAepB,IAAf","sourcesContent":["import queryAsync from \"../../mysql\";\r\nimport crypto from 'crypto';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nasync function auth(req, res) {\r\n  if(req.method === 'POST') {\r\n    let data = JSON.parse(req.body);\r\n    let name = data[0].name;\r\n    let email = data[1].email;\r\n    let pass = data[2].password;\r\n    let hash = crypto.createHash('sha256').update(pass).digest(ase64);\r\n    console.log(hash);\r\n    \r\n    let rows = await queryAsync(`\r\n      SELECT * FROM register WHERE email LIKE \"${email}\"`\r\n    );\r\n    console.log(rows);\r\n    res.end();\r\n  } else {\r\n\r\n  }\r\n}\r\n\r\n\r\nexport default auth;"]},"metadata":{},"sourceType":"module"}