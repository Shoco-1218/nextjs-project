{"ast":null,"code":"import queryAsync from \"../../mysql\";\n\nasync function addMore(req, res) {\n  try {\n    let address = req.body.address;\n    let inspection = req.body.inspection;\n    let image_path = req.body.image_path;\n    let agentName = req.body.agentName;\n    let car = req.body.car;\n    let shower = req.body.shower;\n    let bed = req.body.bed;\n    let agentData = await queryAsync(`SELECT * FROM agents WHERE name LIKE '${agentName}';`);\n    let agentId = agentData[0].id;\n    await queryAsync(`INSERT INTO property (agent_id, address, image_path, inspection, \n    bed, shower, car) \n  VALUES (${agentId},\"${address}\", \"${image_path}\", \"${inspection}\", ${car}, ${shower}, ${bed});`);\n    res.statusCode = 200;\n    res.end();\n  } catch {\n    console.error();\n  }\n}\n\nexport default addMore;","map":{"version":3,"sources":["C:/Users/shoko/src/URE3-Next.js/ure-nextjs/pages/api/moreproperties.js"],"names":["queryAsync","addMore","req","res","address","body","inspection","image_path","agentName","car","shower","bed","agentData","agentId","id","statusCode","end","console","error"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,aAAvB;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAI;AACF,QAAIC,OAAO,GAAGF,GAAG,CAACG,IAAJ,CAASD,OAAvB;AACA,QAAIE,UAAU,GAAGJ,GAAG,CAACG,IAAJ,CAASC,UAA1B;AACA,QAAIC,UAAU,GAAGL,GAAG,CAACG,IAAJ,CAASE,UAA1B;AACA,QAAIC,SAAS,GAAGN,GAAG,CAACG,IAAJ,CAASG,SAAzB;AACA,QAAIC,GAAG,GAAGP,GAAG,CAACG,IAAJ,CAASI,GAAnB;AACA,QAAIC,MAAM,GAAGR,GAAG,CAACG,IAAJ,CAASK,MAAtB;AACA,QAAIC,GAAG,GAAGT,GAAG,CAACG,IAAJ,CAASM,GAAnB;AAEA,QAAIC,SAAS,GAAG,MAAMZ,UAAU,CAAE,yCAAwCQ,SAAU,IAApD,CAAhC;AACA,QAAIK,OAAO,GAAGD,SAAS,CAAC,CAAD,CAAT,CAAaE,EAA3B;AAEA,UAAMd,UAAU,CAAE;;YAEVa,OAAQ,KAAIT,OAAQ,OAAMG,UAAW,OAAMD,UAAW,MAAKG,GAAI,KAAIC,MAAO,KAAIC,GAAI,IAF1E,CAAhB;AAIAR,IAAAA,GAAG,CAACY,UAAJ,GAAiB,GAAjB;AACAZ,IAAAA,GAAG,CAACa,GAAJ;AACD,GAlBD,CAkBE,MAAM;AACNC,IAAAA,OAAO,CAACC,KAAR;AACD;AAGF;;AAED,eAAejB,OAAf","sourcesContent":["import queryAsync from \"../../mysql\";\r\n\r\nasync function addMore(req, res) {\r\n  try {\r\n    let address = req.body.address;\r\n    let inspection = req.body.inspection;\r\n    let image_path = req.body.image_path;\r\n    let agentName = req.body.agentName;\r\n    let car = req.body.car;\r\n    let shower = req.body.shower;\r\n    let bed = req.body.bed;\r\n    \r\n    let agentData = await queryAsync(`SELECT * FROM agents WHERE name LIKE '${agentName}';`);\r\n    let agentId = agentData[0].id;\r\n  \r\n    await queryAsync(`INSERT INTO property (agent_id, address, image_path, inspection, \r\n    bed, shower, car) \r\n  VALUES (${agentId},\"${address}\", \"${image_path}\", \"${inspection}\", ${car}, ${shower}, ${bed});`);\r\n  \r\n    res.statusCode = 200;\r\n    res.end();\r\n  } catch {\r\n    console.error();\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default addMore"]},"metadata":{},"sourceType":"module"}