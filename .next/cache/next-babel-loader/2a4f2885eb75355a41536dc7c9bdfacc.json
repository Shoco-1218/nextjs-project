{"ast":null,"code":"import queryAsync from \"../../mysql\";\n\nasync function addMore(req, res) {\n  let address = req.body.address;\n  let inspection = req.body.inspection;\n  let image_path = req.body.image_path;\n  let agentName = req.body.agentName;\n  let car = req.body.car;\n  let shower = req.body.shower;\n  let bed = req.body.bed;\n  let agentData = await queryAsync(`SELECT * FROM agents WHERE name LIKE '${agentName}';`);\n  let agentId = agentData[0].id;\n  await queryAsync(`INSERT INTO property (agent_id, address, image_path, inspection, \n\tbed, shower, car) \nVALUES (${agentId},\"${address}\", \"${image_path}\", \"${inspection}\", ${car}, ${shower}, ${bed});`);\n  res.statusCode = 200;\n  res.end();\n}\n\nexport default addMore;","map":{"version":3,"sources":["C:/Users/shoko/src/URE3-Next.js/ure-nextjs/pages/api/moreproperties.js"],"names":["queryAsync","addMore","req","res","address","body","inspection","image_path","agentName","car","shower","bed","agentData","agentId","id","statusCode","end"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,aAAvB;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAIC,OAAO,GAAGF,GAAG,CAACG,IAAJ,CAASD,OAAvB;AACA,MAAIE,UAAU,GAAGJ,GAAG,CAACG,IAAJ,CAASC,UAA1B;AACA,MAAIC,UAAU,GAAGL,GAAG,CAACG,IAAJ,CAASE,UAA1B;AACA,MAAIC,SAAS,GAAGN,GAAG,CAACG,IAAJ,CAASG,SAAzB;AACA,MAAIC,GAAG,GAAGP,GAAG,CAACG,IAAJ,CAASI,GAAnB;AACA,MAAIC,MAAM,GAAGR,GAAG,CAACG,IAAJ,CAASK,MAAtB;AACA,MAAIC,GAAG,GAAGT,GAAG,CAACG,IAAJ,CAASM,GAAnB;AAEA,MAAIC,SAAS,GAAG,MAAMZ,UAAU,CAAE,yCAAwCQ,SAAU,IAApD,CAAhC;AACA,MAAIK,OAAO,GAAGD,SAAS,CAAC,CAAD,CAAT,CAAaE,EAA3B;AAEA,QAAMd,UAAU,CAAE;;UAEVa,OAAQ,KAAIT,OAAQ,OAAMG,UAAW,OAAMD,UAAW,MAAKG,GAAI,KAAIC,MAAO,KAAIC,GAAI,IAF1E,CAAhB;AAIAR,EAAAA,GAAG,CAACY,UAAJ,GAAiB,GAAjB;AACAZ,EAAAA,GAAG,CAACa,GAAJ;AAED;;AAED,eAAef,OAAf","sourcesContent":["import queryAsync from \"../../mysql\";\r\n\r\nasync function addMore(req, res) {\r\n  let address = req.body.address;\r\n  let inspection = req.body.inspection;\r\n  let image_path = req.body.image_path;\r\n  let agentName = req.body.agentName;\r\n  let car = req.body.car;\r\n  let shower = req.body.shower;\r\n  let bed = req.body.bed;\r\n  \r\n  let agentData = await queryAsync(`SELECT * FROM agents WHERE name LIKE '${agentName}';`);\r\n  let agentId = agentData[0].id;\r\n\r\n  await queryAsync(`INSERT INTO property (agent_id, address, image_path, inspection, \r\n\tbed, shower, car) \r\nVALUES (${agentId},\"${address}\", \"${image_path}\", \"${inspection}\", ${car}, ${shower}, ${bed});`);\r\n\r\n  res.statusCode = 200;\r\n  res.end();\r\n\r\n}\r\n\r\nexport default addMore"]},"metadata":{},"sourceType":"module"}