{"ast":null,"code":"import queryAsync from \"../../mysql\";\nimport crypto from 'crypto-js';\nimport jwt from 'jsonwebtoken';\nexport async function getServersideProps(email) {\n  let dbdata = await queryAsync(`\n    SELECT * FROM register WHERE email LIKE \"${email}\"`);\n  let rows = JSON.parse(JSON.stringify(dbdata));\n  console.log(rows);\n  return rows;\n}\nexport default ((req, res) => {\n  if (req.method === 'POST') {\n    let data = JSON.parse(req.body);\n    let name = data[0].name;\n    let email = data[1].email;\n    let pass = data[2].password; // let hash = crypto.createHash('sha256').update(pass).digest('base64');\n    // console.log(hash);\n\n    let rows = getServersideProps(email);\n    res.end();\n  } else {}\n});","map":{"version":3,"sources":["C:/Users/shoko/src/URE3-Next.js/ure-nextjs/pages/api/auth.js"],"names":["queryAsync","crypto","jwt","getServersideProps","email","dbdata","rows","JSON","parse","stringify","console","log","req","res","method","data","body","name","pass","password","end"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,aAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAGA,OAAO,eAAeC,kBAAf,CAAkCC,KAAlC,EAAwC;AAC7C,MAAIC,MAAM,GAAG,MAAML,UAAU,CAAE;+CACcI,KAAM,GADtB,CAA7B;AAIA,MAAIE,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,MAAf,CAAX,CAAX;AAEAK,EAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACA,SAAOA,IAAP;AACD;AAED,gBAAe,CAACM,GAAD,EAAMC,GAAN,KAAc;AAC3B,MAAGD,GAAG,CAACE,MAAJ,KAAe,MAAlB,EAA0B;AACxB,QAAIC,IAAI,GAAGR,IAAI,CAACC,KAAL,CAAWI,GAAG,CAACI,IAAf,CAAX;AACA,QAAIC,IAAI,GAAGF,IAAI,CAAC,CAAD,CAAJ,CAAQE,IAAnB;AACA,QAAIb,KAAK,GAAGW,IAAI,CAAC,CAAD,CAAJ,CAAQX,KAApB;AACA,QAAIc,IAAI,GAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQI,QAAnB,CAJwB,CAKxB;AACA;;AAEA,QAAIb,IAAI,GAAGH,kBAAkB,CAACC,KAAD,CAA7B;AACAS,IAAAA,GAAG,CAACO,GAAJ;AACD,GAVD,MAUO,CAEN;AACF,CAdD","sourcesContent":["import queryAsync from \"../../mysql\";\r\nimport crypto from 'crypto-js';\r\nimport jwt from 'jsonwebtoken';\r\n\r\n\r\nexport async function getServersideProps(email){\r\n  let dbdata = await queryAsync(`\r\n    SELECT * FROM register WHERE email LIKE \"${email}\"`\r\n  );\r\n\r\n  let rows = JSON.parse(JSON.stringify(dbdata));\r\n\r\n  console.log(rows);\r\n  return rows;\r\n}\r\n\r\nexport default (req, res) => {\r\n  if(req.method === 'POST') {\r\n    let data = JSON.parse(req.body);\r\n    let name = data[0].name;\r\n    let email = data[1].email;\r\n    let pass = data[2].password;\r\n    // let hash = crypto.createHash('sha256').update(pass).digest('base64');\r\n    // console.log(hash);\r\n    \r\n    let rows = getServersideProps(email)\r\n    res.end();\r\n  } else {\r\n\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}