{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport NavBar from './NavBar';\nimport MetaHead from './Head';\nimport Footer from \"./Footer\";\nimport Link from 'next/link';\n// import AddProperty from './AddProperty';\nimport \"../style.css\";\n;\n\nfunction Index(_ref) {\n  var rows = _ref.rows;\n  var rowsMap = rows.map(function (row) {\n    return __jsx(\"div\", {\n      classname: \"imgs\"\n    }, __jsx(\"p\", null, row.name));\n  });\n}\n\n_c = Index;\n;\nexport var __N_SSP = true;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/shoko/src/URE3-React/ure-nextjs/pages/properties.js"],"names":["NavBar","MetaHead","Footer","Link","Index","rows","rowsMap","map","row","name"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,QAAP,MAAqB,QAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA;AAEA,OAAO,cAAP;AAkBC;;AAGD,SAASC,KAAT,OAAwB;AAAA,MAAPC,IAAO,QAAPA,IAAO;AAEtB,MAAIC,OAAO,GAAGD,IAAI,CAACE,GAAL,CAAU,UAAAC,GAAG;AAAA,WAEzB;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,iBAAIA,GAAG,CAACC,IAAR,CADF,CAFyB;AAAA,GAAb,CAAd;AAQD;;KAVQL,K;AAUR;;AAGD,eAAeA,KAAf","sourcesContent":["import NavBar from './NavBar';\r\nimport MetaHead from './Head';\r\nimport Footer from \"./Footer\";\r\nimport Link from 'next/link';\r\nimport queryAsync from '../mysql';\r\n// import AddProperty from './AddProperty';\r\n\r\nimport \"../style.css\"\r\n\r\nexport async function getServerSideProps(){\r\n\r\n  let dbdata = await queryAsync(`\r\n    SELECT property.id, property.address, property.image_path, property.inspection, \r\n    property.bed, property.shower, property.car, agents.name, agents.agents_photo \r\n    FROM property \r\n    JOIN agents ON property.agent_id = agents.id;\r\n  `);\r\n    \r\n  let rows = JSON.parse(JSON.stringify(dbdata));\r\n\r\n  return {\r\n    props: {\r\n      rows\r\n    },\r\n  }\r\n};\r\n\r\n\r\nfunction Index({ rows }){\r\n\r\n  let rowsMap = rows.map( row =>\r\n\r\n    <div classname=\"imgs\" >\r\n      <p>{row.name}</p>\r\n    </div>\r\n  );\r\n  \r\n  \r\n};\r\n\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}